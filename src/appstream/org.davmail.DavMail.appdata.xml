<?xml version="1.0" encoding="UTF-8"?>
<component type="desktop">
  <id>org.davmail.DavMail.desktop</id>
  <name>DavMail</name>
  <metadata_license>CC0-1.0</metadata_license>
  <summary>Office 365 and Exchange gateway</summary>
  <description>
    <p>
      Ever wanted to get rid of Outlook ? DavMail is a
      POP/IMAP/SMTP/Caldav/Carddav/LDAP Exchange and Office 365 gateway allowing
      users to use any mail/calendar client (e.g. Thunderbird with
      Lightning or Apple iCal) with an Exchange server, even from the
      internet or behind a firewall through Outlook Web
      Access. DavMail now includes an LDAP gateway to Exchange global
      address book and user personal contacts to allow recipient
      address completion in mail compose window and full calendar
      support with attendees free/busy display. The main goal of
      DavMail is to provide standard compliant protocols in front of
      proprietary Exchange. This means LDAP for address book, SMTP to
      send messages, IMAP to browse messages on the server in any
      folder, POP to retrieve inbox messages only and Caldav for
      calendar support. Thus any standard compliant client can be used
      with Microsoft Exchange. DavMail gateway is implemented in java
      and should run on any platform. Releases are tested on Windows,
      Linux (Ubuntu) and Mac OSX. Tray does not work on MacOS and is
      replaced with a full frame. Tested successfully with the Iphone
      (gateway running on a server).
    </p>
  </description>
  <launchable type="desktop-id">org.davmail.DavMail.desktop</launchable>
  <url type="homepage">https://davmail.sourceforge.net</url>
  <url type="donation">https://sourceforge.net/donate/index.php?group_id=184600</url>
    <screenshots>
        <screenshot type="default">
            <image>https://davmail.sourceforge.net/images/davmailArchitecture.png</image>
            <caption>DavMail architecture</caption>
        </screenshot>
        <screenshot>
            <image>https://davmail.sourceforge.net/images/fedora/davmailFedoraNotray.png</image>
            <caption>DavMail main window</caption>
        </screenshot>
        <screenshot>
            <image>https://davmail.sourceforge.net/images/fedora/davmailFedoraSettings.png</image>
            <caption>DavMail Settings</caption>
        </screenshot>
        <screenshot>
            <image>https://davmail.sourceforge.net/images/fedora/davmailFedoraSignin.png</image>
            <caption>DavMail O365 Signin</caption>
        </screenshot>
    </screenshots>
    <branding>
    <color type="primary" scheme_preference="light">#eaf4ff</color>
    <color type="primary" scheme_preference="dark">#0d1b2a</color>
  </branding>
  <project_license>GPL-2.0</project_license>
  <developer id="org.davmail">
    <name>MickaÃ«l Guessant</name>
  </developer>
  <content_rating type="oars-1.1" />
  <releases>
      <release version="6.5.1" date="2025-10-29">
          <description>
              <p>Bugfix release to adjust packaging after 6.5.0 major changes, detect Flatpak and adjust settings and
                  log location accordingly.
              </p>

              <p>Enhancements</p>
              <ul>
                  <li>Caldav: cleanup from audit</li>
                  <li>Suppress warning on Subject.doAs in DavMailNTLMScheme</li>
                  <li>GUI: switch to GitHub as recommended issue tracker about dialog</li>
                  <li>GUI: Update link to https in about dialog</li>
                  <li>Settings fix from audit</li>
                  <li>Fix https://github.com/mguessan/davmail/issues/387 suppress warning on Subject.doAs</li>
              </ul>
              <p>Documentation</p>
              <ul>
                  <li>Doc: update spec file changes, add komac winget command to release guide</li>
                  <li>Doc: revert replace on GitHub url</li>
                  <li>Doc: add new Fedora KDE Plasma screenshots</li>
                  <li>Doc: drop 32 bits package from site documentation</li>
              </ul>

              <p>Build</p>
              <ul>
                  <li>Build: exclude jacoco and sonarqube jars from dist/lib</li>
                  <li>Build: set discardError on git svn check</li>
                  <li>Build: change back to java 11 bytecode level for recent java jdks</li>
                  <li>Build: fix missing ini files in windows installer</li>
              </ul>

              <p>Flatpak</p>
              <ul>
                  <li>Adjust background color</li>
                  <li>Icon without shadow</li>
                  <li>Flatpak: change summary according to Flathub rules</li>
                  <li>Flatpak: update README.md</li>
                  <li>Flatpak: Simplify isFlatpak</li>
                  <li>Flatpak: Create an ant target for flatpak release</li>
                  <li>Flatpak: Fix launchable and add additional screenshots to appstream file</li>
                  <li>Flatpak: adjust settings for flatpak containers</li>
              </ul>

              <p>SWT</p>
              <ul>
                  <li>SWT: Remove dependency to SWT in O365InteractiveAuthenticator</li>
                  <li>SWT: Refactor O365InteractiveAuthenticator to switch to OpenJFX in case of SWT error</li>
              </ul>
          </description>
      </release>
      <release version="6.5.0" date="2025-10-23">
      <description>
          <p>
          Release focused on build and distribution improvements, merged and refactored Docker configuration with automatic
          image build based on GitHub Actions and docker compose samples. For Linux cleaned up the RPM spec file and
          added sysusers configuration for Fedora 43.
          Also dropped obsolete 32 bits packages on windows and embedded recent JDK version inside remaining packages.
          In addition, a brand new O365 interactive authentication implementation based on SWT and Webview2 is available with
          native windows authentication support, which means FIDO2 and Windows Hello authentication are now supported. On Linux
          SWT embedded browser is based on Webkit.
          </p>

          <p>Linux</p>
          <ul>
              <li>RPM spec switch group to Productivity/Networking/Email/Utilities, remove fedora lua dependency, fix
                  java dependency
              </li>
              <li>RPM spec remove old el6 code, review java dependency, let ant compile with current jdk version, do not
                  package logrotate configuration on systemd based systems
              </li>
              <li>RPM spec merge https://github.com/mguessan/davmail/pull/421 Use sysusers.d for Fedora</li>
              <li>review launcher</li>
              <li>merge appstream patch to match Flatpak packaging rules</li>
              <li>Compute SWT_CLASSPATH in various cases</li>
              <li>fix regression after spec file refactoring, see https://github.com/mguessan/davmail/issues/420</li>
          </ul>

          <p>Docker</p>
          <ul>
              <li>fix missing newline at end of file</li>
              <li>change isDocker check, cgroup is not reliable just check /.dockerenv</li>
              <li>use IMAGE_LABEL as target image</li>
              <li>avoid isDocker duplicate log statements</li>
              <li>entrypoint cleanup</li>
              <li>update Makefile to match latest changes, encode $ as required</li>
              <li>Reference docker images on main README page</li>
              <li>review and update documentation to match latest changes</li>
              <li>review makefile to match new Dockerfile</li>
              <li>set DAVMAIL_PROPERTIES in entrypoint and copy template if not exists</li>
              <li>fix classpath</li>
              <li>default option is notray</li>
              <li>review classpath, separate openjfx modules configuration, introduce DAVMAIL_PROPERTIES env variable
              </li>
              <li>create template davmail.properties file in /etc, remove servlet dependency</li>
              <li>create DAVMAIL_PROPERTIES environment to define settings file path in Docker</li>
              <li>log to console only when running in docker container</li>
              <li>need git-svn to build and remove swt package from runtime (use OpenJFX instead)</li>
              <li>OpenJFX is required to build O365InteractiveAuthenticatorFrame, make sure entrypoint is executable
              </li>
              <li>call ant to build jar only, adjust entrypoint.sh location</li>
              <li>initiate merge of https://github.com/mguessan/davmail/pull/409</li>
          </ul>

          <p>Enhancements</p>
          <ul>
              <li>Merge https://github.com/mguessan/davmail/pull/410: Add Russian translation</li>
              <li>Make O365Interactive the default mode on first start</li>
              <li>Adjust default settings template</li>
              <li>Move SWT and JFX available checks to Settings</li>
              <li>Add missing translation messages</li>
              <li>Change user agent on getReleasedVersion as sourceforge blocks default user agent</li>
          </ul>

          <p>Build</p>
          <ul>
              <li>fix jackrabbit dependencies in maven pom</li>
              <li>remove ini configuration from Winrun4j wrappers (no need to update exe for next lib upgrade)</li>
              <li>update debian package dependencies</li>
              <li>switch openjfx to 19 in appveyor</li>
              <li>appveyor copy openjfx libs with JDK 19</li>
              <li>appveyor download openjfx</li>
              <li>drop noinstall package in favor of the standalone windows package</li>
              <li>fix task name in GitHub release workflow</li>
              <li>release GitHub workflow fix condition</li>
              <li>release GitHub workflow fix name</li>
              <li>merge release GitHub workflow from https://github.com/mguessan/davmail/pull/409</li>
              <li>set GitHub docker workflow file parameter to ./src/docker/Dockerfile</li>
              <li>create GitHub workflow to build and push the unstable docker image</li>
              <li>move init depends to compile target</li>
              <li>Settings import cleanup and fix isJFXAvailable</li>
              <li>add is.debian compile target to build on debian with openjfx (including docker)</li>
              <li>include .ini in windows Winrun4j wrapper and refactor java version detection to match more recent JDK
                  versions
              </li>
              <li>Revert SWT to version 4.20 to build with JDK 8</li>
              <li>update winrun4J wrappers with SWT and include jar in installer</li>
              <li>Drop windows 32 bits packages</li>
              <li>fix uninstaller to properly remove jre</li>
              <li>Embed Zuu JRE inside NSI installer, update DavMail url</li>
              <li>Merge https://github.com/mguessan/davmail/pull/417 Fixed 'java.awt.AWTError: Assistive Technology not
                  found: com.sun.java.accessibility.AccessBridge' in Windows standalone distribution
              </li>
          </ul>

          <p>Graph</p>
          <ul>
              <li>cleanup builder</li>
              <li>handle date based conditions and exdate cancelled occurrences</li>
              <li>set graphid for dtstart and dtend</li>
              <li>move encodeFolderName/decodeFolderName to StringUtil</li>
              <li>refactor setFilter to pass condition directly</li>
              <li>cleanup from audit</li>
              <li>introduce davmail.oauth.scope setting to override default scopes</li>
          </ul>

          <p>Documentation</p>
          <ul>
              <li>review README.md</li>
              <li>remove reference to 32 bits package in README.md</li>
          </ul>

          <p>SWT</p>
          <ul>
              <li>SWT browser not available under docker, failover to JavaFX</li>
              <li>catch errors in O365InteractiveAuthenticatorSWT</li>
              <li>Remove older SWT workarounds with GTK and cleanup code</li>
              <li>switch back on linux to SWT 4.20 to build with older JDK</li>
              <li>implement davmail.trayGrayscale for SWT</li>
              <li>Review O365InteractiveAuthenticatorSWT to properly dispose browser window in all cases</li>
              <li>fix regression on tray icon with latest SWT 4.37 on windows</li>
              <li>introduce davmail.oauth.allowSingleSignOnUsingOSPrimaryAccount property to enable SSO with windows
                  Webview2 embedded browser implementation
              </li>
              <li>upgrade to 4.37 and add windows SWT jar</li>
              <li>Scale window icon size to 32</li>
              <li>switch to 128 pixel icons and improve loadSwtImage to scale to 32 pixels tray</li>
              <li>allow SWT tray on windows</li>
              <li>reimplement O365InteractiveAuthenticatorFrame using SWT embedded browser instead of OpenJFX, refactor
                  SwtGatewayTray to separate tray init from thread init
              </li>
          </ul>

          <p>O365</p>
          <ul>
              <li>set davmail.webview.debug property to dump document in O35InteractiveAuthenticatorFrame</li>
              <li>by default do not send notifications on modified occurrences updates, only send when user is organizer
                  of meeting
              </li>
              <li>Improve password expiration detection</li>
              <li>fix regression in O365 interactive authentication</li>
          </ul>

          <p>NTLM</p>
          <ul>
              <li>Restore davmail.enableJcifs=true as default value</li>
          </ul>

          <p>GUI</p>
          <ul>
              <li>switch to ColorConvertOp for davmail.trayGrayscale to keep alpha information</li>
              <li>implement davmail.trayGrayscale to convert tray icon to grayscale</li>
          </ul>

          <p>Caldav</p>
          <ul>
              <li>Fix ICSCalendarValidator, CR, LF and TAB are allowed in full icalendar event</li>
          </ul>
      </description>
      </release>
      <release version="6.4.0" date="2025-08-31">
      <description>
          <p>
              Includes an experimental Microsoft Graph backend, to enable it see instructions at:
              https://github.com/mguessan/davmail/issues/404
              Fixed a long-standing IMAP issue on shared mailbox synchronization, improved GCC high tenants support,
              reviewed
              OIDC authentication to prepare graph backend implementation, merged contributions from users, replaced
              log4j with reload4j.
              Restored NTLM JCIFS implementation with davmail.enableJcifs setting based on user feedback, tried to
              improve NTML logging.
          </p>

          <p>Linux</p>
          <ul>
              <li>drop eclipse-swt dependency on Suse, rely on included swt package</li>
              <li>merge https://github.com/flathub/org.davmail.DavMail/blob/master/davmail-desktop-add-wm-class.patch</li>
              <li>additional rpm spec file fixes for rhel 9</li>
              <li>ant-unbound only exist in Fedora Rawhide</li>
          </ul>

          <p>O365</p>
          <ul>
              <li>Handle password expiration and return a specifig error message</li>
              <li>add davmail.tld setting to UI, see https://github.com/mguessan/davmail/issues/284</li>
              <li>authenticator fix regression</li>
              <li>revert authenticator scope change</li>
              <li>improve authenticator error handling</li>
              <li>drop hostname based fingerprint, allow user to force salt fingerprint with davmail.oauth.fingerprint setting, see https://github.com/mguessan/davmail/issues/403</li>
              <li>review O365StoredTokenAuthenticator to take into account separate tokenFilePath</li>
              <li>log token scopes</li>
              <li>Fix for https://github.com/mguessan/davmail/issues/403 Salt generation for refresh token encryption seems unstable (BadPaddingException)</li>
              <li>refactor authentication to handle various cases with Graph API with new OIDC endpoint and the classic endpoint</li>
              <li>cleanup O365Authenticator</li>
              <li>fix token parameters in OIDC mode, resource is not relevant</li>
              <li>catch NullPointerException on javafx test as reported by a user</li>
              <li>refactor tokenUrl build logic</li>
              <li>adjustments for live.com OIDC endpoints</li>
          </ul>

          <p>EWS</p>
          <ul>
              <li>cleanup from audit</li>
              <li>try to get a valid outlook.com live token</li>
          </ul>

          <p>IMAP</p>
          <ul>
              <li>fix IMAP context folder issue, when using userid/username syntax mailbox context is missing on some IMAP commands</li>
              <li>Add log statement in case of progress notifier error</li>
              <li>merge https://github.com/mguessan/davmail/pull/406 Simpler and more conformant keepalive feature</li>
              <li>fix audit alert Refactor this repetition that can lead to a stack overflow for large inputs.</li>
              <li>merge https://github.com/mguessan/davmail/pull/392, add support for iOS 18 comma separated uids in range search</li>
              <li>SPECIAL-USE test cases</li>
              <li>fix SPECIAL-USE implementation when used as a list-extended selection option, see https://www.rfc-editor.org/rfc/rfc6154 5.2</li>
          </ul>

          <p>NTLM</p>
          <ul>
              <li>dump NTLM message details using NTLMMessageDecoder</li>
              <li>implement custom NTLM message decoder</li>
              <li>add debug info in DavMailNTLMEngineImpl</li>
              <li>without JCIFS workstation and domain are not sent with type1 message</li>
              <li>Restore JCIFS</li>
              <li>introduce davmail.enableJcifs setting to enable JCIFS NTLM engine implementation</li>
          </ul>

          <p>Enhancements</p>
          <ul>
              <li>StringUtilTest add test case on encoding</li>
              <li>Cleanup test case from audit</li>
              <li>Enhancement from audit: rename folder.count to messageCount</li>
              <li>ExchangeSession: cleanup from audit</li>
              <li>Fix https://github.com/mguessan/davmail/issues/400 WARN Invalid 'expires' attribute</li>
              <li>Cleanup irrevelant dependency on debian package</li>
              <li>Upgrade nsi scripts with reload4j 2.0.16</li>
              <li>Maven: switch slf4j dependency to reload4j</li>
              <li>Upgrade slf4j / switch to reload4j</li>
              <li>Upgrade slf4j-api to 2.0.16</li>
              <li>Switch slf4j to reload4j instead of log4j</li>
              <li>Fix typo</li>
              <li>Log4J: fix ant build file</li>
              <li>Log4j: remove show logs option as LF5 is no longer available with reload4j</li>
              <li>Log4j: switching to reload4j, in place replacement for log4j</li>
              <li>Upgrade javamail to 1.6.2</li>
          </ul>

          <p>Build</p>
          <ul>
              <li>Maven: force slf4j-api to 2.0.16</li>
              <li>AppVeyor: switch from sonar.login to sonar.token</li>
          </ul>

          <p>Caldav</p>
          <ul>
              <li>handle quote escaping in parameters</li>
          </ul>

          <p>Docker</p>
          <ul>
              <li>merge https://github.com/mguessan/davmail/pull/390 Docker entrypoint script refinements</li>
          </ul>

          <p>Documentation</p>
          <ul>
              <li>point issue management to GitHub</li>
              <li>review appdata doc</li>
          </ul>

          <p>Graph</p>
          <ul>
              <li>handle cancelled occurrences on events to build EXDATE vCalendar properties</li>
              <li>make progress on event recurrence implementation, see https://learn.microsoft.com/en-us/graph/api/resources/patternedrecurrence</li>
              <li>initiate recurrence implementation</li>
              <li>fix draft handling, draft is set for mapi PR_MESSAGE_FLAGS property combined with read flag by IMAPConnection</li>
              <li>tasks don't have a changeKey field, retrieve etag value from @odata.etag</li>
              <li>switch back to custom scopes</li>
              <li>manage task items returned as part of default calendar requests</li>
              <li>map taskstatus field to status graphId</li>
              <li>handle item not found with HttpNotFoundException</li>
              <li>implement isMainCalendar</li>
              <li>debug ALTDESC for thunderbird, need to urlencode content</li>
              <li>implement etag search for events and contacts</li>
              <li>handle html body and attendees for caldav support</li>
              <li>move convertClassFromExchange and convertClassToExchange to ExchangeSession</li>
              <li>Checkpoint on event management, new tasks handling based on new todo endpoint and make progress on calendar events</li>
              <li>Move some reference tables from EwsExchangeSession to ExchangeSession to make them available in GraphExchangeSession</li>
              <li>Cleanup from audit</li>
              <li>Additional entry points for graphid value in ExtendedFieldURI</li>
              <li>implement optDateTimeTimeZone in GraphObject to convert DateTimeTimeZone json objects</li>
              <li>new TODO objects in graph require Tasks.ReadWrite OIDC scope</li>
              <li>implement specific date conversion convertCalendarDateToGraph for graph api</li>
              <li>implement more condition logic and retrieve VTIMEZONE from properties</li>
              <li>add a full dump of all timezone definitions as graph does not provide a way to retrieve events as VCALENDAR</li>
              <li>make progress on graph attributes handling, refactor GraphObject</li>
              <li>implement fileAs on contacts and fix bday handling</li>
              <li>handle empty boolean custom property, return null for empty email</li>
              <li>switch to .default for OIDC scopes, will help with outlook desktop tokens, detect 50128 error code using outlook desktop clientid with live.com account</li>
              <li>refactor GraphObject handling</li>
              <li>refactor GraphExchangeSession, cleanup code</li>
              <li>implement custom graphid on Field/ExtendedFieldURI</li>
              <li>refactor graph properties handling</li>
              <li>main contact management implementation, create and update contact, handle attached photo</li>
              <li>implement HttpPut calls and introduce GraphResponse as a wrapper around json response messages</li>
              <li>improve graphId compute logic, add namespaceGuid for DistinguishedPropertySetType.Address, introduce isNumber to avoid error on empty number fields</li>
              <li>minimal form submit for live.com authentication</li>
              <li>implement live.com authentication with simple username/password</li>
              <li>add additional scopes to send mail, manage contacts and access shared mailboxes</li>
              <li>Cleanup from audit</li>
              <li>replace method names with constants</li>
              <li>fix approximate message and implement message update (properties only)</li>
              <li>Handle special folders based on well known names</li>
              <li>implement contact folders management</li>
              <li>update TestExchangeSessionFolder unit tests for graph backend</li>
              <li>Implement calendar folder handling</li>
              <li>Improve logging and performance in GraphRequestBuilder</li>
              <li>Implement IOUtil.convertToBytes to convert JSON to byte array without creating a string</li>
              <li>Enhancements for audit</li>
              <li>Fix iterator, nextLink page can be empty</li>
              <li>enable GraphExchangeSession in ExchangeSessionFactory</li>
              <li>implement getMimeHeaders and MultiCondition</li>
              <li>initiate delete/copy/move message</li>
              <li>make progress on graph backend implementation</li>
              <li>complete properties mapping on message update</li>
              <li>some more work on message update logic (PATCH call)</li>
              <li>implement getGraphUrl to handle various graph api endpoints</li>
              <li>log message download progress, add mailbox attribute to graph message and initiate message flags management</li>
              <li>refactor draft message handling, apply workaround (delete/create) only for non draft messages</li>
              <li>review buildMessage logic to parse properties</li>
              <li>initiate implementation of message handling</li>
              <li>compute graphid for distinguishedProperty properties (PublicStrings, InternetHeaders,Common)</li>
              <li>initiate create message implementation, with workaround for draft flag</li>
              <li>switch to v2.0 OIDC endpoint for graph authentication, adjust token endpoint accordingly</li>
          </ul>
      </description>
      </release>
      <release version="6.3.0" date="2025-02-26">
      <description>
        <p>
          Merged some contributions provided by users on GitHub, updated
          embedded jre to 21 for improved TLS 1.3 support, applied
          documentation fixes, reviewed rpm build to provide el9
          compatibility, implemented channel binding for NTLM
          authentication. Also added a more recent Docker file in
          contribs, worked on GCC high tenants compatibility.  Microsoft
          Graph backend implementation is in progress but far from
          complete.
        </p>

        <p>Caldav</p>
        <ul>
          <li>handle multiple categories on TODO items, see https://github.com/mguessan/davmail/issues/372</li>
          <li>Merge https://github.com/mguessan/davmail/pull/386 validate and repair Exchange calendar characters</li>
        </ul>

        <p>LDAP</p>
        <ul>
          <li>merge https://github.com/mguessan/davmail/pull/353, fix first certificate selection logic</li>
          <li>merge https://github.com/mguessan/davmail/pull/353 Add support for retrieving user certificates</li>
        </ul>

        <p>IMAP</p>
        <ul>
          <li>fix backslash in password quoted string by: Max-Julian Pogner &lt;max-julian@pogner.at&gt;, finalize merge, call new parsing method from nextToken and remove backslash handling in username</li>
          <li>fix backslash in password quoted string by: Max-Julian Pogner &lt;max-julian@pogner.at&gt;, review and switch to ParseException for error handling and chars instead of bytes</li>
          <li>merge unit test for patch fix backslash in password quoted string by: Max-Julian Pogner &lt;max-julian@pogner.at&gt;</li>
          <li>initial merge of patch fix backslash in password quoted string by: Max-Julian Pogner &lt;max-julian@pogner.at&gt;</li>
          <li>fix https://github.com/mguessan/davmail/issues/359, handle RFC822.TEXT</li>
        </ul>

        <p>O365</p>
        <ul>
          <li>add GCC high example settings in default davmail.properties</li>
          <li>https://github.com/mguessan/davmail/pull/380 Remove trailing slash from O365_LOGIN_URL</li>
          <li>merge https://github.com/mguessan/davmail/pull/380 Missed one change</li>
          <li>merge https://github.com/mguessan/davmail/pull/380 Enhance support for the davmail.outlookUrl property setting and fully support GCC-High endpoints</li>
          <li>implement OneWaySMS MFA prompt, see https://github.com/mguessan/davmail/pull/134</li>
          <li>get O365 Login Url from settings for non standard tenants and add additional error use case</li>
          <li>detect live.com token. Note: may not be enough to make DavMail work with live.com accounts</li>
          <li>dropping all workaroungs for OpenJFX bugs that should be fixed in recent versions</li>
        </ul>

        <p>EWS</p>
        <ul>
          <li>experimental, try to implement recurrence count with NumberOfOccurrences, see https://github.com/mguessan/davmail/issues/373</li>
          <li>make settings timezoneid higher priority than mailbox configuration, make encode/decode foldername methods public for graph API</li>
        </ul>

        <p>Graph</p>
        <ul>
          <li>introduce GRAPH_URL and davmail.loginUrl in Settings</li>
          <li>initiate search filter implementation</li>
          <li>implement folder recursive search</li>
          <li>Introduce folderClass</li>
          <li>Create folders unit tests</li>
          <li>fix folder retrieval by id</li>
          <li>initial folder retrieval implementation</li>
          <li>compute graph API property id from name and tag</li>
          <li>Empty Graph ExchangeSession implementation</li>
          <li>prepare graph request builder for graph implementation</li>
          <li>Experimental, introduce davmail.enableGraph property to obtain a token compatible with Microsoft Graph API</li>
        </ul>

        <p>Linux</p>
        <ul>
          <li>fix ant dependency for fedora</li>
          <li>davmail.spec to not try to link os provided swt.jar when using embedded one</li>
          <li>work on el9 compatibility for RPM build</li>
          <li>Embed davmail-user.conf in source package, see https://github.com/mguessan/davmail/issues/356</li>
          <li>Create davmail user/group per new conventions in RPM 4.19, merge changes from https://github.com/mguessan/davmail/issues/356</li>
          <li>fix https://github.com/mguessan/davmail/issues/346 unable to run jlink on linux</li>
          <li>force shutdown with -token option</li>
          <li>Add OpenJFX case for Kubuntu</li>
        </ul>

        <p>Documentation</p>
        <ul>
          <li>update windows build documentation, see https://github.com/mguessan/davmail/issues/384</li>
          <li>merge https://github.com/mguessan/davmail/pull/174 fix docs typo in property davmail.enableKeepAlive</li>
          <li>improve documentation on how to run DavMail as a windows service</li>
          <li>update documentation for non default tenants (US, China)</li>
          <li>provide more information in initial consent for O365 authentication</li>
          <li>update FAQ on application registration in Entra ID (Azure AD)</li>
          <li>mention AppIndicator and KStatusNotifierItem Support in Fedora setup instructions</li>
        </ul>

        <p>Docker</p>
        <ul>
          <li>merge https://github.com/mguessan/davmail/pull/381 by SethRobertson Bug 201: Docker support for building and running</li>
        </ul>

        <p>NTLM</p>
        <ul>
          <li>remove CIFS dependency</li>
          <li>cleanup code from audit</li>
          <li>use ThreadLocal to manage SecureRandom generators</li>
          <li>switch to DavMailNTLMSchemeFactory to enable channel binding, see https://github.com/mguessan/davmail/issues/352</li>
          <li>retrieve certificate from http context</li>
          <li>Duplicate of NTLMScheme from HttpClient to implement channel binding</li>
          <li>adjust NTLMEngineImpl to handle channel binding</li>
          <li>Duplicate code from NTLMEngineImpl to implement channel binding</li>
        </ul>

        <p>Enhancements</p>
        <ul>
          <li>Fix from audit</li>
          <li>Drop web component</li>
          <li>Drop servlet-api.jar, no longer required</li>
          <li>Drop deprecated DavGatewayServletContextListener (we no longer provide an embedded war file)</li>
          <li>Trying to fix custom jre for TLS 1.3, see https://stackoverflow.com/questions/63964939/tls-1-3-handshake-failure-when-using-openjdk-14-java-module-runtime and https://github.com/mguessan/davmail/pull/388</li>
          <li>fix download-jre for embedded JDK on windows, fetch version 21</li>
          <li>switch davmail linux launcher to zulu JDK 21 for better TLS 1.3 support</li>
          <li>switch main package to zulu JDK 21 for better TLS 1.3 support</li>
          <li>StringUtilTest CRLF => LF, see https://github.com/mguessan/davmail/pull/378</li>
          <li>StringUtil CRLF => LF, see https://github.com/mguessan/davmail/pull/378</li>
          <li>Security: Enable TLSv1.3 between DavMail and Exchange/O365</li>
          <li>PKCS11: review SunPKCS11ProviderHandler</li>
          <li>HttpClient: cleanup from audit</li>
          <li>svn ignore .idea</li>
          <li>Downgrade jackrabbit to 2.20.15 for java 8 compatibility</li>
          <li>Upgrade jackrabbit to 2.21.25 and httpclient to 4.5.14</li>
        </ul>
      </description>
    </release>
    <release version="6.2.2" date="2024-03-30">
      <description>
        <p>
          Includes some build process fixes, use jlink to build a
          customized jre for standalone package, Thunderbird
          configuration documentation updated with new screenshots.

          Also implemented a new -token command line option to launch
          O365InteractiveAuthenticator and get an authentication
          token.
        </p>

        <p>OSX</p>
        <ul>
          <li>document how to embed Zulu jre inside DavMail app</li>
        </ul>

        <p>Enhancements</p>
        <ul>
          <li>Fix comment in DavMail shell</li>
          <li>Detect missing network connectivity during token refresh to avoid invalidating token</li>
          <li>Upgrade JCIFS to 1.3.19 for NTLM support</li>
          <li>Cleanup from audit</li>
          <li>Drop war package from release files, there are more modern ways to run DavMail in server mode without a webapp container</li>
          <li>From audit: place LOCK.wait in a loop</li>
          <li>Fix from audit, use try with resource</li>
          <li>Cleanup from audit, remove deprecated getSubjectDN, getIssuerDN</li>
        </ul>

        <p>O365</p>
        <ul>
          <li>Improve error message on missing add-exports, see #344</li>
          <li>Refactor manual authentication dialog to clearly separate steps</li>
          <li>Remove explicit dependency on O365InteractiveAuthenticator for -token option</li>
          <li>Implement a -token option to launch interactive authenticator and print obtained refresh token, see #338</li>
          <li>Try to adjust ItemId to 140 length, see #328</li>
          <li>prepare GCC-High/DoD endpoints support, fix regression</li>
          <li>prepare GCC-High/DoD endpoints support, move Outlook login url references to Settings</li>
          <li>prepare GCC-High/DoD endpoints support, move outlook url references to Settings</li>
        </ul>

        <p>EWS</p>
        <ul>
          <li>Properly set errorDetail on xml stream error to raise exception</li>
          <li>disable IS_SUPPORTING_EXTERNAL_ENTITIES to fix xml parsing security warning</li>
        </ul>

        <p>Caldav</p>
        <ul>
          <li>Fix #342 map America/Winnipeg to Central Standard Time</li>
          <li>Fix #337 take timezone into account when looking for excluded occurrence</li>
          <li>Fix settings implementation, # are allowed in values, see #326</li>
        </ul>

        <p>IMAP</p>
        <ul>
          <li>fix #339 classcast exception on malformed content</li>
        </ul>

        <p>Build</p>
        <ul>
          <li>Maven: update compiler to 3.10.1</li>
          <li>Maven: optimize dependencies</li>
          <li>Maven: exclure httpclient 3 transitive dependency</li>
          <li>Appveyor: build only master branch</li>
          <li>use jlink to create a custom jre to reduce embedded jre
          size</li>
        </ul>

        <p>Security</p>
        <ul>
          <li>Security: fix security alert on Runtime.getRuntime().exec</li>
          <li>Security: fix security alert on Runtime.getRuntime().exec</li>
        </ul>

        <p>Linux</p>
        <ul>
          <li>force GTK2 only with SWT</li>
          <li>switch to Azul JRE 17 with "davmail azul" command</li>
          <li>Enable OpenJFX on Fedora to make O365Interactive work with Java 17 and later</li>
        </ul>

        <p>Documentation</p>
        <ul>
          <li>update roadmap</li>
          <li>Add donation buttons to GitHub main readme page</li>
          <li>update Thunderbird documentation messages</li>
          <li>Update release guide, mvn install file no longer required</li>
          <li>update Thunderbird documentation, as requested in #294</li>
          <li>update documentation for Thunderbird configuration</li>
          <li>use COPR badge</li>
          <li>update release guide</li>
          <li>reference OpenSuse build service and Fedora COPR for RPM based linux distributions</li>
          <li>Update changes file for opensuse build service</li>
        </ul>
      </description>
    </release>
    <release version="6.2.1" date="2024-01-04">
      <description>
        <p>
          Most changes are related to build process and rpm
          packaging for Fedora/RHEL, also includes a few bug
          fixes on IMAP
        </p>

        <p>Security</p>
        <ul>
          <li>Upgrade commons codec to 1.15</li>
        </ul>

        <p>O365</p>
        <ul>
          <li>cleanup from audit</li>
          <li>no longer apply the disable integrity check workaround by default, fixed in openjfx</li>
          <li>add a warning message on FIDO authentication triggered</li>
          <li>allow refresh token persistence without provided password</li>
          <li>Merge PR #236 Changed authentication link log level</li>
        </ul>

        <p>Linux</p>
        <ul>
          <li>refactor spec file for fedora, do not call old init service scripts and compile with openjfx</li>
          <li>Fix systemd condition for fedora in spec file</li>
          <li>Adjust JDK dependencies for RPM build</li>
        </ul>

        <p>Build</p>
        <ul>
          <li>AppVeyor: Cleanup</li>
          <li>AppVeyor: copy plugin to x86-unicode</li>
          <li>AppVeyor: switch to server 2019</li>
          <li>Appveyor: investigate java versions</li>
          <li>AppVeyor: set ANT_HOME value</li>
          <li>AppVeyor: update ant path</li>
          <li>AppVeyor: update ant download path</li>
          <li>Run Sonar scan under JDK19</li>
          <li>Switch Appveyor build to JDK 19</li>
          <li>Maven: fix urls from PR #225 by Stefan Weil</li>
        </ul>

        <p>IMAP</p>
        <ul>
          <li>merge patch from PR #140, return folders including special use folders when query is %</li>
          <li>implement fetch macro flags, see issue #314</li>
          <li>fix APPENDUID value order</li>
        </ul>

        <p>Enhancements</p>
        <ul>
          <li>Cleanup from audit</li>
          <li>Fix typo</li>
          <li>NTLM: improve logging of NTLM negotiation</li>
          <li>Update Winrun4J wrappers with commons codec 1.15</li>
        </ul>
      </description>
    </release>
    <release version="6.2.0" date="2023-11-05">
      <description>
        <p>
          Another bugfix release to merge user contributions
          from GitHub, refactor Linux build, upgrade
          dependencies and a few IMAP and Caldav fixes.
        </p>

        <p>Security</p>
        <ul>
          <li>Update htmlcleaner to 2.29 cf CVE-2023-34624</li>
        </ul>

        <p>Enhancements</p>
        <ul>
          <li>Drop Travis-ci, no longer working for opensource projects</li>
          <li>fix quotes from audit</li>
          <li>Remove space at end of line +0630=Myanmar Standard Time, see issue #309</li>
          <li>Fix issue #271, keep line order and comments on settings save</li>
          <li>Fix from audit</li>
          <li>Maven: convert pom.xml to UTF-8</li>
        </ul>

        <p>IMAP</p>
        <ul>
          <li>merge fix suggested on issue #298</li>
          <li>merge according to last comment on PR #239</li>
          <li>improve bodystructure handling, merge PR #239</li>
          <li>implement APPENDUID and advertise UIDPLUS</li>
          <li>implement APPENDUID and advertise UIDPLUS</li>
          <li>Prepare uidplus, fetch message after create</li>
        </ul>

        <p>Caldav</p>
        <ul>
          <li>Fix nullpointer as in issue #303</li>
          <li>Fix issue #309 Thunderbird daily sends TZOFFSETTO with optional second value</li>
          <li>adjust isLightning test to include Thunderbird user agent, see issue #287</li>
        </ul>

        <p>Linux</p>
        <ul>
          <li>based on PR #290 by BjÃ¶rn Bidar &lt;bjorn.bidar@thaodan.de&gt;, remove svn commit reference in davmail.spec</li>
          <li>Remove svn tag from folder name inside source packages</li>
          <li>remove chkconfig from Requires preun and post in davmail.spec as suggested on build.opensuse.org</li>
          <li>dos2unix davmail.changes</li>
          <li>update changelog with BjÃ¶rn Bidar &lt;bjorn.bidar@thaodan.de&gt; contribution from PR #289 </li>
          <li>Add back changelog file and convert to OpenSUSE format from PR #289</li>
          <li>Merge changes from PR #290 except %version that may impact release cycle</li>
          <li>convert davmail.spec changelog to OpenSUSE format, see PR #290</li>
          <li>restore spec file with lf and changelog, see PR #290</li>
          <li>remove downloaded azul jdk package</li>
        </ul>

        <p>ADFS</p>
        <ul>
          <li>merge PR #270 by Felix Engelmann, enable ADFS authentication with SAML assertions</li>
        </ul>

        <p>EWS</p>
        <ul>
          <li>Cleanup from audit</li>
          <li>fix issue #299 avoid logging large response message content</li>
          <li>BackOffMilliseconds unit test</li>
          <li>parse BackOffMilliseconds value on throttling</li>
        </ul>

        <p>O365</p>
        <ul>
          <li>O365: in O365 interactive, use invokeAndWait on failover to manual to avoid multiple instances of popup window</li>
          <li>Upgrade jettison to 1.5.4 in pom.xml</li>
          <li>Upgrade jettison to 1.5.4</li>
        </ul>

        <p>Windows</p>
        <ul>
          <li>Windows: drop explicit reference to sun.security.mscapi.SunMSCAPI, Windows-MY should be available on all windows JDK</li>
        </ul>

        <p>Documentation</p>
        <ul>
          <li>Doc: Update server properties documentation with davmail.oauth.persistToken</li>
          <li>Doc: fix link to SonarCloud</li>
        </ul>
      </description>
    </release>
    <release version="6.1.0" date="2023-03-19">
      <description>
        <p>
          First release in a long time to publish pending changes, including Kerberos support fix,
          experimental number matching support for upcoming Microsoft authenticator default configuration change,
          store new refresh token received at authentication.
          In addition, some Log4J specific patches to remove vulnerable classes from library
          (even if DavMail is not impacted with standard
          configuration)
        </p>

        <p>O365</p>
        <ul>
          <li>implement number matching logic in O365Authenticator</li>
          <li>retrieve number matching value during phone app MFA</li>
          <li>adjust logging level on O365 refresh token error</li>
          <li>change persist token logic to store new refresh token after succesful refresh</li>
          <li>Experimental: store refreshed token when
          davmail.storeRefreshedToken=true</li>
        </ul>

        <p>Windows</p>
        <ul>
          <li>Add missing labelReplace active wait with wait/notifyAll in DavService</li>
          <li>Update winrun4j wrappers after lib upgrades</li>
        </ul>

        <p>Linux</p>
        <ul>
          <li>Linux: block davmail azul when davmail script is located under /usr/bin (package installed)</li>
          <li>Linux: fix PosixFilePermissions for writeable only by user</li>
          <li>Linux: try to make .davmail.properties file readable by user only on create</li>
          <li>Linux: improve launch script to take into account
          script location</li>
        </ul>


        <p>Enhancements</p>
        <ul>
          <li>Add missing label</li>
          <li>Replace active wait with wait/notifyAll</li>
          <li>Upgrade woodstox to 1.4.0 and jettison to 1.5.3</li>
          <li>Remove (most) http links in Maven POM</li>
          <li>Make ScheduledThreadPool thread daemon</li>
          <li>Switch to https for version check</li>
          <li>DavMailIdleConnectionEvictor fix from audit</li>
          <li>Refactor DavMailIdleConnectionEvictor to be less agressive on idle connection checks/purge and use scheduler instead of active polling</li>
          <li>Override SPNegoScheme to take into account DavMail kerberos settings</li>
        </ul>

        <p>Documentation</p>

        <ul>
          <li>Sample syslog configuration</li>
          <li>Update current version in README.md</li>
          <li>OSX: remove reference to Growl in documentation</li>
          <li>Doc: security note on DavMail not vulnerable to CVE-2021-44228</li>
          <li>Doc: add a section on Fedora installation from
          copr</li>
        </ul>

        <p>Caldav</p>
        <ul>
          <li>Caldav: Do not try to update modified
          occurrences on Mozilla thunderbird dismiss
          event</li>
        </ul>

        <p>Security</p>
        <ul>
          <li>Security: Strip packaged log4j jar from JMSSink and JDBCAppender to ensure DavMail is not vulnerable to CVE-2022-23305 &amp; CVE-2022-23302</li>
          <li>Remove JMSAppender, SMTPAppender and SocketServer from Log4J binary as an additional security measure (CVE-2019-17571 CVE-2021-4104), even if DavMail is not vulnerable with standard configuration</li>
          <li>Upgrade Log4J to latest version 1.2.17 in Winrun4J wrappers</li>
          <li>Upgrade Log4J to latest version 1.2.17</li>
        </ul>
      </description>
    </release>
    <release version="6.0.1" date="2021-12-03">
      <description>
        <p>
          Bugfix release with a few Office 365 enhancements
        </p>

        <p>O365</p>
        <ul>
          <li>default to MSCAPI on windows for native client certificate access</li>
          <li>name button Send instead of OK in manual authenticator dialog</li>
          <li>Added Copy to Clipboard button Manual auth
          dialog (pull request #158)</li>
        </ul>

        <p>Linux</p>
        <ul>
          <li>improve "davmail azul" error handling</li>
          <li>Update changelog in RPM spec</li>
          <li>Fix RPM spec, remote source does not work</li>
          <li>Merge RPM spec contribution from michals from
          Opensuse Build System, check for systemd support and deploy the right service</li>
        </ul>

        <p>HC4</p>
        <ul>
          <li>make DavMail Kerberos configuration provider</li>
        </ul>

        <p>EWS</p>
        <ul>
          <li>Support servers only offering EWS/Services.wsdl
          instead of EWS/Exchange.asmx (pull request #106)</li>
        </ul>

        <p>Documentation</p>
        <ul>
          <li>Remove HttpClient migration warning</li>
          <li>instructions on standalone setup on Linux for best O365 support</li>
          <li>Update readme for GitHub home page</li>
        </ul>
      </description>
    </release>
    <release version="6.0.0" date="2021-07-05">
      <description>
        <p>
          First major release in a long time, main change is
          switch from HttpClient 3 to 4, please report any
          regression related to this major rewrite.
        </p>
        <p>
          DavMail now supports more O365 configurations,
          including access to client certificate to validate
          device trust.
        </p>
        <p>
          O365 refresh tokens can now be stored
          securely in a separate (writable) file.
        </p>
        <p>
          On Linux, in order to ensure the right java version
          is used, a command line option to download latest
          Azul JRE with OpenJFX support was added, on windows
          a standalone package contains Azul JRE FX 15, on OSX
          updated universalJavaApplicationStub to latest
          version.
        </p>
        <p>
          See RELEASE-NOTES.md in the source distribution for
          more details.
        </p>
      </description>
    </release>
    <release version="5.5.1" date="2019-04-19">
      <description>
        <p>Fix regression on domain\username authentication over IMAP and some cleanup</p>
        <p>IMAP</p>
        <ul>
          <li>fix GitHub issue #100 regression with domain\username
          authentication</li>
        </ul>

        <p>O365</p>
        <ul>
          <li>set jdk.http.ntlm.transparentAuth=allHosts to enable
          NTLM for ADFS support</li>
        </ul>

        <p>Build</p>
        <ul>
          <li>dist cleanup</li>
          <li>Update release guide with Fedora copr instructions</li>
          <li>Exclude .sonarwork from source package</li>
          <li>Build: fix release file name</li>
        </ul>
      </description>
    </release>
    <release version="5.5.0" date="2019-04-15">
      <description>
        <p>
          This release contains a lot of bugfixes, enhancements and some user contributions from GitHub.
          Most activity is related to HttpClient 4 refactoring, this will probably be the latest version based in HttpClient 3.
          Minimum Java version is now 8, also dropped Growl support on MacOS.
          Notable changes for end users are Oauth token persistence to avoid frequent O365 authentications and OIDC support for
          personal outlook accounts.
          Known issues: some users reported regressions with form authentication, please report such regressions with log files.
        </p>
      </description>
    </release>
  </releases>
</component>
